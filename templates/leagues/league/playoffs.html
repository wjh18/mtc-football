{% extends 'leagues/_league_base.html' %}

{% block title %}Playoffs | {{ league.name }}{% endblock title %}

{% block content %}

  <h2>
    Playoff Picture &middot; Season {{ season.season_number }}
    {% if team.userteam %}
      <span class="my-team-tag">GM</span>
    {% endif %}
  </h2>
  <a href="{{ league.get_absolute_url }}">&larr; League Home</a>
  <hr>

  <div class="row">

    <div>
      <h3 class="matchup-type">Wildcard Weekend</h3>
      {% if wildcard_matchups %}
        {% for matchup in wildcard_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-score">
                {% if matchup.week_number < season.week_number %}
                  {{ matchup.scoreboard.away_score }}
                {% endif %}
                {% if matchup.week_number < season.week_number %}
                  - {{ matchup.scoreboard.home_score }}
                {% endif %}
              </p>                
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    <div>
      <h3 class="matchup-type">Divisional Round</h3>
      {% if divisional_matchups %}
        {% for matchup in divisional_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-score">
                {% if matchup.week_number < season.week_number %}
                  {{ matchup.scoreboard.away_score }}
                {% endif %}
                {% if matchup.week_number < season.week_number %}
                  - {{ matchup.scoreboard.home_score }}
                {% endif %}
              </p>                
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    <div>
      <h3 class="matchup-type">Conference Finals</h3>
      {% if conference_matchups %}
        {% for matchup in conference_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-score">
                {% if matchup.week_number < season.week_number %}
                  {{ matchup.scoreboard.away_score }}
                {% endif %}
                {% if matchup.week_number < season.week_number %}
                  - {{ matchup.scoreboard.home_score }}
                {% endif %}
              </p>                
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    <div>
      <h3 class="matchup-type">Championship</h3>
      {% if championship_matchups %}
        {% for matchup in championship_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-score">
                {% if matchup.week_number < season.week_number %}
                  {{ matchup.scoreboard.away_score }}
                {% endif %}
                {% if matchup.week_number < season.week_number %}
                  - {{ matchup.scoreboard.home_score }}
                {% endif %}
              </p>                
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    </div>
  </div>
{% endblock content %}
