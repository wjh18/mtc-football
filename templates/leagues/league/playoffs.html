{% extends 'leagues/_league_base.html' %}

{% block title %}Playoffs | {{ season }}{% endblock title %}

{% block content %}

  <h2>
    Playoff Picture &middot; Season {{ season.season_number }}
    {% if team.userteam %}
      <span class="my-team-tag">GM</span>
    {% endif %}
  </h2>
  <a href="{{ league.get_absolute_url }}">&larr; League Home</a>
  <hr>

  <div class="row">

    <div class="matchup-section">
      <h3 class="matchup-section-header">Wildcard Weekend</h3>
      {% if wildcard_matchups %}
        {% for matchup in wildcard_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-records">
                <span class="matchup-record">{{ matchup.away_team.get_current_record }}</span>
                <span class="matchup-record">{{ matchup.home_team.get_current_record }}</span>
              </p>
              {% if matchup.week_number < season.week_number %}
                <p class="matchup-score">
                  {{ matchup.scoreboard.away_score }}
                  - {{ matchup.scoreboard.home_score }}
                </p>
              {% else %}
                <p class="matchup-date">
                  {{ matchup.date }}
                </p>
              {% endif %}
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    <div class="matchup-section">
      <h3 class="matchup-section-header">Divisional Round</h3>
      {% if divisional_matchups %}
        {% for matchup in divisional_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-records">
                <span class="matchup-record">{{ matchup.away_team.get_current_record }}</span>
                <span class="matchup-record">{{ matchup.home_team.get_current_record }}</span>
              </p>
              {% if matchup.week_number < season.week_number %}
                <p class="matchup-score">
                  {{ matchup.scoreboard.away_score }}
                  - {{ matchup.scoreboard.home_score }}
                </p>
              {% else %}
                <p class="matchup-date">
                  {{ matchup.date }}
                </p>
              {% endif %}            
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    <div class="matchup-section">
      <h3 class="matchup-section-header">Conference Finals</h3>
      {% if conference_matchups %}
        {% for matchup in conference_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-records">
                <span class="matchup-record">{{ matchup.away_team.get_current_record }}</span>
                <span class="matchup-record">{{ matchup.home_team.get_current_record }}</span>
              </p>
              {% if matchup.week_number < season.week_number %}
                <p class="matchup-score">
                  {{ matchup.scoreboard.away_score }}
                  - {{ matchup.scoreboard.home_score }}
                </p>
              {% else %}
                <p class="matchup-date">
                  {{ matchup.date }}
                </p>
              {% endif %}               
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    <div class="matchup-section">
      <h3 class="matchup-section-header">Championship</h3>
      {% if championship_matchups %}
        {% for matchup in championship_matchups %}
          <div class="matchup-wrapper">
            <a class="matchup-link" href="{{ matchup.get_absolute_url }}">                
              <p class="matchup-teams">
                <span {% if matchup.scoreboard.get_winner == matchup.away_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.away_team.abbreviation }}
                </span>
                @
                <span {% if matchup.scoreboard.get_winner == matchup.home_team %}style="color: darkgreen;"{% else %}style="color: darkred;"{% endif %}>
                  {{ matchup.home_team.abbreviation }}
                </span>
              </p>
              <p class="matchup-records">
                <span class="matchup-record">{{ matchup.away_team.get_current_record }}</span>
                <span class="matchup-record">{{ matchup.home_team.get_current_record }}</span>
              </p>
              {% if matchup.week_number < season.week_number %}
                <p class="matchup-score">
                  {{ matchup.scoreboard.away_score }}
                  - {{ matchup.scoreboard.home_score }}
                </p>
              {% else %}
                <p class="matchup-date">
                  {{ matchup.date }}
                </p>
              {% endif %}             
            </a>
          </div>
        {% endfor %}
      {% else %}
        <p>No matchups yet for this week.</p>
      {% endif %}
    </div>

    </div>
  </div>
{% endblock content %}